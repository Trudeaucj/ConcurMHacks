<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>ConcurMHacks by Trudeaucj</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">ConcurMHacks</h1>
      <h2 class="project-tagline">Get started and readme for @Concur @MHacks</h2>
      <a href="https://github.com/Trudeaucj/ConcurMHacks" class="btn">View on GitHub</a>
      <a href="https://github.com/Trudeaucj/ConcurMHacks/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Trudeaucj/ConcurMHacks/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p></p><img src="https://jfqcza.bn1.livefilestore.com/y2paqP_3uagi8J3WlP4-pNt4kJoOzRKmuohSQUsrjaegIaoNbNZJ7EXLEflIO6XYAOKM6scpKxbtXPg10RL5OO3A9bc6m-zERVRHUYB1OEGq8s/Concur_Logo_VT_Color_500px.png?psid=1" width="190px">

<h2>
<a id="what-is-concur" class="anchor" href="#what-is-concur" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is Concur?</h2>

<p>Concur is a travel and expense software solution that lets 25M business travelers book their travel, capture expense, submit expense reports, and more.  Concur processes over 55 million transactions every year, representing $50 billion spend on T&amp;E.</p>

<p></p>
<img src="https://jfqcza.bn1.livefilestore.com/y2prf7yXWtqtcsjpFh2XXu6XQ7ppeIg8SqyBAFEUIcqwGG-TQz1vpZhxx6ac2ySbguL5EAsg0IerEzlUQRynANwyVmyt9dUxWWwNS-x75NX248/Screen%20Shot%202014-05-31%20at%2012.02.06%20PM.png?psid=1">

<h2>
<a id="we-are-hiring" class="anchor" href="#we-are-hiring" aria-hidden="true"><span class="octicon octicon-link"></span></a>We are hiring!</h2>

<p><a href="https://www.concur.com/en-us/careers">Career Portal</a></p>

<h2>
<a id="what-can-i-do-with-concur-apis" class="anchor" href="#what-can-i-do-with-concur-apis" aria-hidden="true"><span class="octicon octicon-link"></span></a>What can I do with Concur APIs?</h2>

<p><a href="https://developer.concur.com">Check out the Developer Portal</a>
<a href="https://www.concursolutions.com/api/docs/index.html#!">Check out the Swagger Page</a></p>

<p>The <strong>Travel/Itinerary API (v1.1)</strong> lets you access a Concur user's itinerary, including hotel/flight booking info.  As an example, you can mash-up the Itinerary API with a restaurant database/API to provide recommendations of places to eat near a Concur user's hotel booking.</p>

<p>The <strong>Expense API (v3.0)</strong> allows you to get (and push) a Concur user's expense information, including expense line items, their types (e.g. food, lodging), totals, and even receipt images.</p>

<p>Here's an example on how to get an Itinerary List of a Concur user:</p>

<pre><code>curl https://www.concursolutions.com/api/travel/trip/v1.1
-H "Authorization: OAuth &lt;insert your access token here&gt;"
</code></pre>

<p>To get an expense summary by using the Expense Report Digest API:</p>

<pre><code>curl https://www.concursolutions.com/api/v3.0/expense/reportdigests
-H "Authorization: OAuth &lt;insert your access token here&gt;"
-H "Accept: application/json"
</code></pre>

<p><strong>To get an access token</strong> (or learn how to generate one), please click <a href="#token">here</a> to advance to the section below.</p>

<p>You can interact with the API using Swagger <a href="https://www.concursolutions.com/api/docs/index.html">here</a></p>

<p><a href="https://www.concursolutions.com/api/docs/index.html"><img src="https://jfqcza.bn1.livefilestore.com/y2phbDjCiRKZp3Btneho4UncjWK46iv8GFhyKdTZ7xJJ9BCJ-JJiNrw7ieCenHdSGPgEZL0Tj7IYjGypUv61u3KdIrjj0dAUM35DjC3cPzLls0/Screen%20Shot%202014-05-31%20at%202.09.43%20PM.png?psid=1" width="610px"></a></p>

<p>For the Itinerary APIs (v1.1), full API documentation, and apps that use the APIs, please refer to:</p>

<p><a href="https://developer.concur.com/get-started/webservices-overview">https://developer.concur.com/get-started/webservices-overview</a></p>

<h2>
<a id="sdks--sample-code" class="anchor" href="#sdks--sample-code" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="samplecode">SDKs / Sample code</a>
</h2>

<ul>
<li><a href="https://github.com/concur/concur-platform-sdk-js">NodeJS SDK</a></li>
<li><p><a href="https://github.com/concur/concur-platform-sdk-dotnet">C# .NET SDK</a></p></li>
<li><p><a href="https://developer.getpebble.com/blog/2014/09/03/Pebble-Concur-Mojio/">Pebble SDK C/Javascript</a></p></li>
<li><a href="https://github.com/ismaelc/Concur-Windows8-SampleCode">Windows 8 C#/XAML</a></li>
<li>
<a href="https://gist.github.com/dberke711/c8d0c9e04c7e76220d4e">C#</a> (Generate access token native flow)</li>
<li>
<a href="http://runnable.com/UtWlKVi9ZnsnAABx/upload-receipts-to-concur-using-php-curl">PHP/curl</a> (POST image receipts)</li>
<li><p><a href="https://gist.github.com/Trudeaucj/09c25e79c332e93703a0">Python</a> (Generate access token)</p></li>
<li><p>Java using <a href="https://github.com/Trudeaucj/Concur-java-examples">Maven</a></p></li>
</ul>

<h2>
<a id="ideas-for-a-concur-powered-business-travel-app" class="anchor" href="#ideas-for-a-concur-powered-business-travel-app" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="mashup">Ideas for a Concur-powered business travel app:</a>
</h2>

<p>These are just example ideas from past external hackathons. We'd love for you to think beyond the ideas presented below :)  Find other ideas <a href="#example">here</a>.  </p>

<p><a href="http://challengepost.com/software/built-with/concur">Challengepost</a> lists Concur API integrations from previous hackathons.  Definitely worth checking out!
<a href="https://github.com/Trudeaucj/greenguest">GitHub GreenGuest</a> A team we sent to the 2015 AT&amp;T Developer Summit who took home the M2X IoT Challenge prize!</p>

<h2>
<a id="additional-information" class="anchor" href="#additional-information" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="addl">Additional Information</a>
</h2>

<p>The subsections below provide a more detailed information on how to:</p>

<ul>
<li><a href="#token">Generate an access token</a></li>
<li><a href="#dummy">POST/GET dummy data to/from Concur</a></li>
<li><a href="#samplecode">Sample code</a></li>
<li>
<p><a href="#example">Example apps in the App Center and previous hackathons</a></p>

<h2>
<a id="generate-an-access-token" class="anchor" href="#generate-an-access-token" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="token"><strong>Generate an access token</strong></a>
</h2>
</li>
</ul>

<ol>
<li>
<p><strong>Get your Consumer Key</strong>  </p>

<p>After logging in to <a href="http://concursolutions.com">http://concursolutions.com</a>, go to Administration -&gt; Register Partner Application -&gt; Concur Partner Application (Modify).  We need the consumer key so we can call the endpoint that would return the access token. (<strong>Note: Get your Concur login/password from Chris at the Concur booth or email him at <a href="mailto:ctrudeau@concur.com">ctrudeau@concur.com</a></strong>)</p>

<p><img src="http://chrispogeek.files.wordpress.com/2014/01/untitled.png" width="600px"></p>
</li>
<li>
<p><strong>Call the access token request endpoint</strong></p>

<p>Here's what the HTTP call looks like to request for an access token:</p>

<pre><code>  GET https://www.concursolutions.com/net2/oauth2/accesstoken.ashx HTTP 1.1
  Authorization: Basic am9obl9kZXZlbG90bWFpbC5jb206VHJhdmVsJkV4cGVuc2UkMjAxMg==
  X-ConsumerKey: eZByXv2X41cJlC21pSVvRi    
</code></pre>

<p>Note that we already have <code>X-ConsumerKey</code> from number 1.  To generate the <code>Authorization: Basic</code> value, you need to Base64-encode the login ID, colon and password such that <a href="mailto:john_developer@hotmail.com">john_developer@hotmail.com</a>:Travel&amp;Expense$2012 becomes am9obl9kZXZlbG90bWFpbC5jb206VHJhdmVsJkV4cGVuc2UkMjAxMg==.  If you're not doing this programmatically yet, you can use this <a href="http://www.base64encode.org/">nifty web tool</a> to generate that value (remember to choose Encode).</p>

<p>If you're using a Terminal, an equivalent curl statement of the above would be:</p>

<pre><code>  curl https://www.concursolutions.com/net2/oauth2/accesstoken.ashx
  -H "Authorization: Basic am9obl9kZXZlbG90bWFpbC5jb206VHJhdmVsJkV4cGVuc2UkMjAxMg=="
  -H "X-ConsumerKey: eZByXv2X41cJlC21pSVvRi"
</code></pre>

<p>If the call is successful, you should get an XML response with a <code>&lt;Token&gt;</code> node.  That's your access token. We recommend that you use <a href="http://www.getpostman.com/">Postman</a>, a Chrome extension, to help you manage your API calls (not just Concur ones).  Here's what the API calls look like in Postman:</p>

<p><img src="http://chrispogeek.files.wordpress.com/2014/01/screen-shot-2014-01-13-at-4-45-35-pm.png" width="600px"></p>
</li>
<li>
<p><strong>Call the APIs to pull expense report items</strong></p>

<p>After getting an access token, we can pull dummy data from the Expense Report Digest, like so (in Terminal):</p>

<pre><code>  curl https://www.concursolutions.com/api/v3.0/expense/reportdigests
  -H "Authorization: OAuth &lt;insert your access token here&gt;"
</code></pre>

<p>This would return an Expense Report response, with a field called <code>ID</code>.  We need this ID to extract the expense line items we created in the app earlier.  To liven things up a bit, let's use the <a href="https://www.concursolutions.com/api/docs/index.html#!/Entries">Swagger</a> documentation of the "Entries" API to get the individual expense line items:</p>

<p><img src="https://jfqcza.bn1302.livefilestore.com/y2pExFhXefF7BWcggCWbeRkUyOUyEf1UdRi0HoCcpj8PKfaGMub-K8xc0BXHsX2NUFlNp54-m6X3aJ7dRNLQiIHfyYJhdtTiEJEArnZJ-r7NCA/Screen%20Shot%202014-04-22%20at%201.21.55%20PM.png?psid=1" width="600px"></p>

<p>We highlighted two things here, the (oval) field where you put in your access token, and the (rectangle) field where you put in the <code>ID</code> we got from the previous API call.  Note that we can do this same call in curl, or in any fashion you want.  Swagger just provides us a consolidated way to make the API calls.</p>

<p>To execute the call, click the "Try it out!" button.  You should get a response like this below:</p>

<p><img src="https://jfqcza.bn1304.livefilestore.com/y2pty6lMBv5XXLjA_mT5HLpSNea4hVr3AUCRuEI207Wr1otLVxy86klHYuNDP0N-cvb75IFJvicR1jR2K7X3wqJXsH_AQNcEWkp6iO4t3jXRCs/Screen%20Shot%202014-04-22%20at%201.29.22%20PM.png?psid=1" width="600px"></p>

<p><strong>Note: The steps demonstrated above follow the OAuth Native Flow.  If you prefer something similar to a Facebook login experience, you can check out the OAuth Web Flow <a href="https://developer.concur.com/api-documentation/oauth-20-0">here</a></strong></p>
</li>
</ol>

<p><a href="#addl">Back to Top</a></p>

<h2>
<a id="postget-dummy-data-tofrom-concur---the-api-or-app" class="anchor" href="#postget-dummy-data-tofrom-concur---the-api-or-app" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="dummy"><strong>POST/GET dummy data to/from Concur - the API or app</strong></a>
</h2>

<ol>
<li>
<p><strong>Pushing dummy data to Concur using the API</strong>  </p>

<p>POST a dummy Itinerary to Concur:</p>

<pre><code>  Request Type = POST
  Authorization = OAuth &lt;your access token&gt;
  URI = https://www.concursolutions.com/api/travel/trip/v1.1/
  ContentType = Application/XML
  Body = 
   &lt;?xml version="1.0"?&gt;
   &lt;Itinerary xmlns="http://www.concursolutions.com/api/travel/trip/2010/06"&gt;
   &lt;TripName&gt;TechCrunch Disrupt Concur&lt;/TripName&gt;
   &lt;StartDateLocal&gt;2015-10-30T03:47:14&lt;/StartDateLocal&gt;
   &lt;EndDateLocal&gt;2015-11-06T03:47:14&lt;/EndDateLocal&gt;
   &lt;Bookings&gt;
    &lt;Booking&gt;
     &lt;Segments&gt;
         &lt;Hotel&gt;
             &lt;Status&gt;HK&lt;/Status&gt;
             &lt;StartCityCode&gt;SFO&lt;/StartCityCode&gt;
             &lt;StartDateLocal&gt;2015-10-30T07:47:14&lt;/StartDateLocal&gt;
             &lt;EndDateLocal&gt;2015-11-06T03:47:14&lt;/EndDateLocal&gt;
             &lt;Name&gt;Times Square Hilton New York&lt;/Name&gt;
             &lt;RecordLocator&gt;Hotel Locator&lt;/RecordLocator&gt;
             &lt;RoomDescription&gt;1 KING BED ACCESSIBLE ROOM - K1RRC&lt;/RoomDescription&gt;
             &lt;Currency&gt;USD&lt;/Currency&gt;
             &lt;CancellationPolicy&gt;Cxl 1 day prior to Arrival&lt;/CancellationPolicy&gt;
             &lt;DailyRate&gt;240.3500&lt;/DailyRate&gt;
             &lt;NumRooms&gt;1&lt;/NumRooms&gt;
             &lt;NumPersons&gt;1&lt;/NumPersons&gt;
             &lt;RateCode&gt;LV4&lt;/RateCode&gt;
             &lt;Charges&gt;
                 &lt;Rate&gt;
                     &lt;Currency&gt;USD&lt;/Currency&gt;
                     &lt;Amount&gt;10.00&lt;/Amount&gt;
                     &lt;StartDatelocal&gt;2015-10-30T07:47:14&lt;/StartDatelocal&gt;
                     &lt;IsPrimary&gt;false&lt;/IsPrimary&gt;
                     &lt;SemanticsCode&gt;ROOMRATE&lt;/SemanticsCode&gt;
                     &lt;PerUnit&gt;DAY&lt;/PerUnit&gt;
                     &lt;NumUnits&gt;3.00&lt;/NumUnits&gt;
                 &lt;/Rate&gt;
             &lt;/Charges&gt;
         &lt;/Hotel&gt;
     &lt;/Segments&gt;
     &lt;RecordLocator&gt;Disrupt123&lt;/RecordLocator&gt;
     &lt;BookingSource&gt;Sample Itin for Disrupt&lt;/BookingSource&gt;
     &lt;DateBookedLocal&gt;2015-10-30T03:47:14&lt;/DateBookedLocal&gt;
   &lt;/Booking&gt;
   &lt;Booking&gt;
     &lt;Segments&gt;
         &lt;Air&gt;
             &lt;Vendor&gt;AA&lt;/Vendor&gt;
             &lt;FlightNumber&gt;425&lt;/FlightNumber&gt;
             &lt;StartCityCode&gt;SFO&lt;/StartCityCode&gt;
             &lt;StartDateLocal&gt;2015-10-30T03:47:14&lt;/StartDateLocal&gt;
             &lt;EndCityCode&gt;NYC&lt;/EndCityCode&gt;
             &lt;EndDateLocal&gt;2015-11-30T07:47:14&lt;/EndDateLocal&gt;
             &lt;Cabin&gt;O&lt;/Cabin&gt;
             &lt;ClassOfService&gt;O&lt;/ClassOfService&gt;
         &lt;/Air&gt;
     &lt;/Segments&gt;
     &lt;RecordLocator&gt;Air Locator&lt;/RecordLocator&gt;
     &lt;BookingSource&gt;Sample Itin for Disrupt&lt;/BookingSource&gt;
     &lt;DateBookedLocal&gt;2015-08-30T03:47:14&lt;/DateBookedLocal&gt;
   &lt;/Booking&gt;
 &lt;/Bookings&gt;
 &lt;/Itinerary&gt;
</code></pre>

<p><strong>Hack tip :</strong> More details on the Itinerary API v1.1. <a href="https://developer.concur.com/itinerary-tmc-and-third-party-developers/itinerary-resource/itinerary-resource-get">here</a></p>

<p>POST Expense Report Header to Concur: </p>

<pre><code> Request Type = POST
 Authorization = OAuth &lt;your access token&gt;
 URI = https://www.concursolutions.com/api/v3.0/expense/reports
 ContentType = Application/JSON
 Accept = Application/JSON
 Body = 
 {
      "Name": "Disrupt Hackathon NYC Trip",
      "Purpose": "All Hackathon Expenses",
      "Comment": "Includes hotel and meals.",
      "OrgUnit1": "US",
      "OrgUnit3": "Bellevue",
      "Custom1": "Client",
      "Custom2": "Local",
      "UserDefinedDate": "2015-11-01 15:15:07.0"
  }
</code></pre>

<p><strong>Hack tip 1:</strong> You can POST using JSON by setting the header to <code>Content-Type:application/json</code> and checking out a sample JSON body in our <a href="https://www.concursolutions.com/api/docs/index.html#!/Reports">Swagger</a> doc.  Note that the examples here use v1.1, and those shown in Swagger use v3.0.</p>

<p><strong>Hack tip 2</strong>: You need to generate a report header to be able to submit an expense entry.  A collection of entries is a report.</p>

<p><em>Click <a href="https://developer.concur.com/api-documentation/web-services/expense-report">here</a> to view the relationship of an Expense Report Header to an Expense Report Entry and search for *</em>Expense Report Processes**.   *</p>

<p>GET Expense Report Details:</p>

<pre><code> Request Type = GET
 Authorization = OAuth &lt;your access token&gt;
 URI = https://www.concursolutions.com/api/v3.0/expense/reports
 ContentType = Application/JSON
</code></pre>

<p>GET Expense Group Configuration</p>

<pre><code> Request Type = GET
 Authorization = OAuth &lt;your access token&gt;
 URI = https://www.concursolutions.com/api/v3.0/expense/expensegroupconfigurations
 Accept = Application/JSON
</code></pre>

<p>POSTing Expense Report Entry:</p>

<pre><code> Request Type = POST
 Authorization = OAuth &lt;your access token&gt;
 URI = https://www.concursolutions.com/api/v3.0/expense/entries
 ContentType = Application/JSON
 Accept = Application/JSON
 Body = 
 {
    "ExpenseTypeCode": "BRKFT",
    "PaymentTypeID":"&lt;PAYMENT TYPE ID FROM EXPENSE GROUP CONFIGURATION",
    "ReportID": "&lt;REPORT ID FROM GET EXPENSE REPORT DETAILS/POST EXPENSE REPORT&gt;",
    "TransactionAmount": "3.50",
    "TransactionCurrencyCode": "USD",
    "TransactionDate": "2015-08-31",
    "VendorDescription": "Starbucks"
  }
</code></pre>
</li>
<li>
<p><strong>Pushing dummy expense data to Concur using the app</strong></p>

<p>You can access the web version of Concur at <a href="http://concursolutions.com/">http://concursolutions.com/</a> or get the mobile app from <a href="https://itunes.apple.com/us/app/concur-travel-receipts-expense/id335023774?mt=8">App Store</a> or <a href="https://play.google.com/store/apps/details?id=com.concur.breeze">Google Play</a>.</p>

<p></p>
<img src="https://jfqcza.bn1.livefilestore.com/y2prf7yXWtqtcsjpFh2XXu6XQ7ppeIg8SqyBAFEUIcqwGG-TQz1vpZhxx6ac2ySbguL5EAsg0IerEzlUQRynANwyVmyt9dUxWWwNS-x75NX248/Screen%20Shot%202014-05-31%20at%2012.02.06%20PM.png?psid=1">

<p>You can view/add new expenses (and even add a receipt image!) to have a variety of data to pull for your API calls. After adding expenses, you can create a report to associate it with by tapping the "Add to Report" button (in the last screenshot above).</p>
</li>
</ol>

<p><a href="#addl">Back to Top</a></p>

<h2>
<a id="example-apps" class="anchor" href="#example-apps" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="example">Example apps</a>
</h2>

<p>All app integrations with Concur can be found in the <a href="https://www.concur.com/en-us/app-center">App Center</a>.  Below are just two examples that would hopefully give you an idea on what to build:</p>

<ul>
<li>
<p><a href="http://challengepost.com/software/built-with/concur">Challengepost</a> lists Concur API integrations from previous hackathons.  Definitely worth checking out!</p>

<ul>
<li><p><a href="https://www.concur.com/en-us/partners/transaction-capture/traveltext">TravelText</a> - TravelText allows you to text your expenses right into Concur. No more paper receipts and Excel sheet mayhem!  Check out their video demo <a href="https://www.youtube.com/watch?v=sxY_PO-QKZ0">here</a>.</p></li>
<li><p><a href="https://www.concur.com/en-us/app-center/listing/nDhf34TiiC9RCocFM2xViin5c/Trover">Trover</a> - it's travel photography + business travel integration in one great app. Quoting from this <a href="http://skift.com/2013/07/25/travel-photography-app-trover-secures-2-5-million-in-funding-from-concur/#/0">article</a>, what they get for integrating with Concur is <em>"being able to tap into Concur’s experience, knowledge and “great visibility into travel patterns”"</em>.</p></li>
</ul>
</li>
</ul>

<p><a href="#addl">Back to Top</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Trudeaucj/ConcurMHacks">ConcurMHacks</a> is maintained by <a href="https://github.com/Trudeaucj">Trudeaucj</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
